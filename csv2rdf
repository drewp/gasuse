#!/usr/bin/python

import csv
from itertools import islice
import optparse

parser = optparse.OptionParser(usage="""%prog input.csv
First row will be treated as headers.""")
parser.add_option("--headerns",help="namespace for headers")
opts, args = parser.parse_args()

dialect = csv.Sniffer().sniff("\n".join(list(islice(open(args[0]), 10))))

reader = csv.reader(open(args[0]), dialect)
headers = reader.next()
for row in reader:
    print dict(zip(headers, row))

